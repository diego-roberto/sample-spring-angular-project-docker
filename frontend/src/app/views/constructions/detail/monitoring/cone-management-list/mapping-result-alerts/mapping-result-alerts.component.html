<safety-dialog topBarDisable>
    <safety-dialog-header>
        Alertas do sensor
        <button class="close" (click)="close()" md-icon-button>
            <md-icon>clear</md-icon>
        </button>
    </safety-dialog-header>
    <safety-dialog-content>
        <div class="danger-msg" *ngIf="!loadingFilters && current === 3 && hasSomeUnableWorker()">
            <img src="assets/icon/myconstructionsite/danger.png" alt="" class="font-unable-worker-alert danger-icon"> Você autorizou o acesso a esta área de risco para trabalhadores que não atendem aos requisitos mínimos estipulados
            pelo Seif.
        </div>
        <div *ngIf="loadingCone || loadingRisks" fxLayout="column" fxLayoutAlign="center center">
            <md-spinner class="in-component"></md-spinner>
        </div>
        <div *ngIf="!loadingCone && !loadingRisks">
                <div>
                    <img src="assets/maps/icons/cup_holders_active.png" alt="">
                    &nbsp;{{cone.title}}&nbsp;({{cone?.identification | coneIdPipe}})

                    <a class="material-icons" [mdMenuTriggerFor]="moreFilters">filter_list</a>

                    <md-menu #moreFilters="mdMenu" yPosition="below" [overlapTrigger]="false">
                        <button md-menu-item (click)="changeOption('alarme')">{{ "alarme".toUpperCase() }}</button>
                        <button md-menu-item (click)="changeOption('recentes')">{{ "recentes".toUpperCase() }}</button>
                        <button md-menu-item (click)="changeOption('antigos')">{{ "antigos".toUpperCase() }}</button>
                        <button md-menu-item (click)="changeOption('bateria')">{{ "bateria".toUpperCase() }}</button>
                        <button md-menu-item (click)="changeOption('online')">{{ "online".toUpperCase() }}</button>
                        <button md-menu-item (click)="changeOption('offline')">{{ "offline".toUpperCase() }}</button>
                        <button md-menu-item (click)="changeOption('ativo')">{{ "ativo".toUpperCase() }}</button>
                        <button md-menu-item (click)="changeOption('inativo')">{{ "inativo".toUpperCase() }}</button>
                        <button md-menu-item (click)="changeOption('ligado')">{{ "ligado".toUpperCase() }}</button>
                        <button md-menu-item (click)="changeOption('desligado')">{{ "desligado".toUpperCase() }}</button>
                    </md-menu>
                </div>
                <span>
                    <br/>
                </span>
                <div class="danger-msg" fxLayout fxLayoutAlign="center center" *ngIf="!(virtualAlertsFiltered.length>0)">
                    <img src="assets/icon/myconstructionsite/danger.png" alt="" class="font-unable-worker-alert danger-icon"> nenhum registro encontrado!
                </div>
                <div style="min-height: 400px;">
                    <div *ngFor="let summarizedAlert of virtualAlertsFiltered">
                        <safety-list-item [bulkEditable]="false" style="width:20% !importante">
                            <span> 
                                <b>{{summarizedAlert.dateAlert| date: 'dd/MM/yyyy HH:mm'}}h</b>
                            </span>
                            <span class="titleAlert" > 
                                &nbsp;{{summarizedAlert.alert}}
                            </span>
                        </safety-list-item>   
                        <hr>
                     </div>
                </div>

        </div>

    </safety-dialog-content>
    
    <safety-dialog-actions>
        <!--<button *nfIf="current === 2" [disabled]="">Próximo</button>
        <button md-button class="button-default" (click)="updateStepStage('next')" *ngIf="currentStageStep < 3" [disabled]="(currentStageStep === 1 && !validSensor) || (currentStageStep === 2 && !validRisk)">{{actionButton}}</button>
        <button md-button class="button-default" [disabled]="data?.view" (click)="finishConeMapping()" *ngIf="currentStageStep == 3 && finishBtn">{{actionButton}}</button>
        <button md-button class="button-default" (click)="permissionCancel()" *ngIf="currentStageStep == 3 && validBtn">CANCELAR</button>
        <button md-button class="button-default" (click)="permissionConfirm()" *ngIf="currentStageStep == 3 && validBtn">CONFIRMAR</button> -->
    </safety-dialog-actions>
</safety-dialog>