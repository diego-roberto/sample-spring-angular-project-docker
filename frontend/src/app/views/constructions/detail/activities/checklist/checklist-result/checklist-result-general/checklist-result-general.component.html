<safety-card #checklistResultGeneralCard toggleDisable topBarDisable>
    <safety-card-header>{{ title }}</safety-card-header>
    <safety-card-content>

        <form [formGroup]="generalForm">


            <div *ngIf="checklist.hasContract && isUserSalesman"  fxLayout='row' fxLayout.lt-md='column' fxLayoutAlign="space-between center">
                <div fxFlex="59" class="row" fxFlex.lt-md="100" fxLayout='row'>
                    <md-input-container fxFlex="38">
                        <input mdInput placeholder="Contrato" uppercase maxlength="50" [(ngModel)]="checklistInfos.generalInfo.contract" formControlName="contract" trimText>
                    </md-input-container>

                    <div fxFlex="62">
                        <div fxFlex="3"></div>
                        <span class="validity" fxFlex="32">Vigência:</span>
                        <md-input-container fxFlex="43">
                            <input mdInput dateMask="99/99/9999" formControlName="validityFrom" [(ngModel)]="checklistInfos.generalInfo.validityFrom"
                                [mdDatepicker]="pickerValidityFrom" placeholder="De" validateOnBlur>
                            <button mdSuffix [mdDatepickerToggle]="pickerValidityFrom"></button>
                            <md-datepicker #pickerValidityFrom></md-datepicker>
                            <md-error *ngIf="generalForm.controls.validityFrom.hasError('invalid')">Data inválida.</md-error>
                        </md-input-container>

                        <div fxFlex="3"></div>
                        <md-input-container fxFlex="43">
                            <input mdInput dateMask="99/99/9999" formControlName="validityTo" [(ngModel)]="checklistInfos.generalInfo.validityTo" [mdDatepicker]="pickerValidityTo"
                                placeholder="Até" validateOnBlur>
                            <button mdSuffix [mdDatepickerToggle]="pickerValidityTo"></button>
                            <md-datepicker #pickerValidityTo></md-datepicker>
                            <md-error *ngIf="generalForm.controls.validityTo.hasError('invalid')">Data inválida.</md-error>
                        </md-input-container>
                    </div>
                </div>

                <div fxFlex="51" class="row" fxFlex.lt-md="100" fxLayout='row'>
                    <div fxHide.lt-md fxFlex="3"></div>
                    <span class="validity" fxFlex="15">Visita:</span>
                    <md-input-container fxFlex="48">
                        <input mdInput maxlength="20" placeholder="Visitas Feitas" [(ngModel)]="checklistInfos.generalInfo.visitOf" formControlName="visitOf"
                            validateOnBlur trimText>
                        <md-error *ngIf="generalForm.controls.visitOf.hasError('onlyPositiveNumbers')"> Somente Números Positivos.</md-error>
                    </md-input-container>
                    <div fxHide.lt-md fxFlex="0.5"></div>
                    <span class="validity" fxFlex="3">de</span>
                    <div fxFlex="3"></div>
                    <md-input-container fxFlex="48">
                        <input mdInput maxlength="20" placeholder="Total de visitas" [(ngModel)]="checklistInfos.generalInfo.visitUntil" formControlName="visitUntil"
                            validateOnBlur trimText>
                        <md-error *ngIf="generalForm.controls.visitUntil.hasError('onlyPositiveNumbers')"> Somente Números Positivos.</md-error>
                    </md-input-container>


                </div>
            </div>

            <div fxLayout='row' fxLayoutAlign="space-between center">
                <md-input-container fxFlex="73">
                    <input mdInput placeholder="Razão Social" uppercase maxlength="100" [(ngModel)]="checklistInfos.generalInfo.companyName" formControlName="companyName" trimText>
                </md-input-container>

                <md-input-container fxFlex="26">
                    <input mdInput placeholder="CNPJ" maxlength="50" [(ngModel)]="checklistInfos.generalInfo.cnpj" [textMask]="{ mask: cnpjMask }"
                        formControlName="cnpj">
                    <md-error *ngIf="!generalForm.controls.cnpj.hasError('required') && generalForm.controls.cnpj.hasError('cnpj')">CNPJ Inválido.</md-error>
                </md-input-container>
            </div>

            <div fxLayout='row' fxLayoutAlign="space-between center" *ngIf="isUserSalesman">
                <md-input-container fxFlex="100">
                    <input mdInput placeholder="Endereço" uppercase maxlength="150" [(ngModel)]="checklistInfos.generalInfo.address" formControlName="address" trimText>
                </md-input-container>
            </div>

            <div fxLayout='row' fxLayoutAlign="space-between center" *ngIf="isUserSalesman">
                <md-input-container fxFlex="100">
                    <input mdInput placeholder="Contato" uppercase maxlength="50" [(ngModel)]="checklistInfos.generalInfo.contact" formControlName="contact" trimText>
                </md-input-container>
            </div>

            <div fxLayout='row' fxLayoutAlign="space-between center" *ngIf="isUserSalesman">
                <md-input-container fxFlex="75">
                    <input mdInput placeholder="E-Mail" uppercase maxlength="50" [(ngModel)]="checklistInfos.generalInfo.email" formControlName="email" trimText>
                </md-input-container>

                <md-input-container fxFlex="23">
                    <input mdInput placeholder="Telefone" maxlength="50" [(ngModel)]="checklistInfos.generalInfo.phone" [textMask]="{ mask: phoneMask, guide: false }"
                        formControlName="phone">
                </md-input-container>
            </div>

            <div fxLayout='row' fxLayoutAlign="space-between center">
                <md-input-container fxFlex="75">
                    <input mdInput placeholder="Aplicado Por" readonly uppercase maxlength="50" [(ngModel)]="checklistInfos.generalInfo.applicator" formControlName="applicator" trimText>
                </md-input-container>

            <md-input-container fxFlex="23">
                <input mdInput formControlName="date" [(ngModel)]="checklistInfos.generalInfo.date" formControlName="date" name="date"
                  dateMask="99/99/9999" placeholder="Data Aplicação" [mdDatepicker]="datePicker" validateOnBlur>
                <button mdSuffix [mdDatepickerToggle]="datePicker"></button>
                <md-datepicker #datePicker></md-datepicker>
              </md-input-container>
            </div>

            <div *ngIf="checklist.hasContract" fxLayout='row' fxLayoutAlign="space-between center">
                <md-input-container fxFlex="100">
                    <input mdInput placeholder="Revisado Por" uppercase maxlength="50" [(ngModel)]="checklistInfos.generalInfo.revisor" formControlName="revisor" trimText>
                </md-input-container>
            </div>
        </form>

    </safety-card-content>
</safety-card>
