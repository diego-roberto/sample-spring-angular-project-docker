<div fxLayout.gt-sm="row" fxLayout.lt-md="column">
  <div fxFlex.lt-md="100" fxFlex.gt-sm="45" fxLayout="column" fxLayoutAlign="end none">
    <h6>Selecione as permissões</h6>

    <md-input-container>
      <md-icon mdPrefix>search</md-icon>
      <input mdInput #filter (input)="doFilterCompanyQualities(filter.value)" placeholder="Buscar por título">
      <md-icon mdSuffix (click)="doClearQualitiesFilter()">clear</md-icon>
    </md-input-container>

    <md-list>
      <div class="btn-all" *ngIf="companyQualitiesFiltered.length > 0">
        <md-checkbox (change)="setAllSelectedToAdd()" [checked]="checkedAddAll">
          Todos
        </md-checkbox>
      </div>
      <virtual-scroll #qualitiesVirtualScroll [items]="companyQualitiesFiltered" [childHeight]="50" (update)="qualitiesVirtualScrollItems = $event">
        <div class="info-empty-box" *ngIf="companyQualities.length === 0" fxLayout="column" fxLayoutAlign="end center">
          <p>Todas selecionadas.</p>
        </div>
        <md-list-item *ngFor="let quality of qualitiesVirtualScrollItems">
          <md-checkbox (change)="setSelectedToAdd(quality)" [checked]="selectedToAdd.includes(quality)"></md-checkbox>
          <div>
            <p class="bolder">{{ quality.title }}</p>
          </div>
        </md-list-item>
      </virtual-scroll>
    </md-list>
  </div>

  <div fxLayout.lt-md="row" fxLayout.gt-sm="column" class="button-group" fxLayoutAlign="end none">
    <button md-button [disabled]="selectedToAdd.length <= 0" (click)="doAdd()">
      <md-icon fxHide.lt-md fxShow.gt-sm>keyboard_arrow_right</md-icon>
      <md-icon fxHide.gt-sm fxShow.lt-md>keyboard_arrow_down</md-icon>
    </button>
    <button md-button [disabled]="selectedToRemove.length <= 0" (click)="doRemove()">
      <md-icon fxHide.lt-md fxShow.gt-sm>keyboard_arrow_left</md-icon>
      <md-icon fxHide.gt-sm fxShow.lt-md>keyboard_arrow_up</md-icon>
    </button>
  </div>

  <div fxFlex.lt-md="100" fxFlex.gt-sm="45" fxLayout="column" fxLayoutAlign="end none">
    <h6>permissões <span class="red-text-highlighted">selecionadas</span> ({{ selectedQualities.length }})</h6>

    <md-input-container>
      <md-icon mdPrefix>search</md-icon>
      <input mdInput #filterSelected (input)="doFilterSelectedQualities(filterSelected.value)" placeholder="Buscar por título">
      <md-icon mdSuffix (click)="doClearSelectedQualitiesFilter()">clear</md-icon>
    </md-input-container>

    <md-list>
      <div class="btn-all" *ngIf="selectedQualitiesFiltered.length > 0">
        <md-checkbox (change)="setAllSelectedToRemove()" [checked]="checkedRemoveAll">
          Todos
        </md-checkbox>
      </div>
      <virtual-scroll #qualitiesSelectedVirtualScroll [items]="selectedQualitiesFiltered" [childHeight]="50" (update)="qualitiesSelectedVirtualScrollItems = $event">
        <div class="info-empty-box" *ngIf="selectedQualities.length === 0" fxLayout="column" fxLayoutAlign="end center">
          <p>Clique no item e na seta ao lado para</p>
          <p>adicionar permissões ao perfil.</p>
          
        </div>
        <md-list-item *ngFor="let quality of qualitiesSelectedVirtualScrollItems">
          <md-checkbox (change)="setSelectedToRemove(quality)" [checked]="selectedToRemove.includes(quality)"></md-checkbox>
          <div>
            <p class="bolder">{{ quality.title }}</p>
          </div>
        </md-list-item>
      </virtual-scroll>
    </md-list>
  </div>
</div>

<div class="form-bottom">
  <button md-raised-button class="button-default" (click)="save()">salvar</button>
</div>
